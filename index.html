<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Dots - Avoid the Dots!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <!-- Game Area -->
        <div id="game-area">
            <!-- Level indicator -->
            <div id="level-indicator">
                <span id="level-text">Level 1</span>
            </div>
            
            <!-- Pause button -->
            <button id="pause-btn" aria-label="Pause game">‚ùö‚ùö</button>
            
            <!-- Pause overlay -->
            <div id="pause-overlay" class="hidden">
                <div class="pause-content">
                    <h2>PAUSED</h2>
                    <button id="resume-btn">Resume</button>
                </div>
            </div>
            
            <!-- Level up notification -->
            <div id="level-up-notification" class="hidden">
                <span id="level-up-text">Level 2</span>
            </div>
            
            <!-- Player dot -->
            <div id="player" class="dot player-dot"></div>
            
            <!-- Enemy container (enemies will be added dynamically) -->
            <div id="enemies-container"></div>
            
            <!-- Countdown overlay -->
            <div id="countdown-overlay">
                <span id="countdown-text">4</span>
            </div>
        </div>
        
        <!-- Controls Area (mobile only) -->
        <div id="controls-area">
            <div id="joystick-base">
                <div id="joystick-knob"></div>
            </div>
        </div>
    </div>
    
    <!-- Start Screen -->
    <div id="start-screen">
        <button id="start-leaderboard-btn" class="trophy-btn" aria-label="Leaderboard">üèÜ</button>
        <div class="modal-content start-content">
            <h1 class="game-title">DOTS</h1>
            <p class="game-subtitle">Avoid the dots. Survive.</p>
            <div class="name-input-container">
                <label for="player-name">Enter your name</label>
                <input type="text" id="player-name" placeholder="Player" maxlength="15" autocomplete="off">
            </div>
            <div class="country-select-container">
                <label for="country-select">Country</label>
                <select id="country-select">
                    <option value="XX">üè≥Ô∏è Detecting...</option>
                </select>
            </div>
            <button id="start-btn">Start Game</button>
        </div>
    </div>
    
    <!-- Game Over Modal -->
    <div id="game-over-modal" class="hidden">
        <div class="modal-content">
            <h1>Game Over</h1>
            <p id="player-name-display" class="player-name-result"></p>
            <div class="stats-container">
                <div class="stat-item">
                    <p class="stat-label">Level Reached</p>
                    <p id="final-level" class="stat-value">1</p>
                </div>
                <div class="stat-item">
                    <p class="stat-label">Total Time</p>
                    <p id="survival-time" class="time-display">0.00</p>
                    <p class="stat-unit">seconds</p>
                </div>
            </div>
            <button id="restart-btn">Play Again</button>
            <button id="leaderboard-btn" class="secondary-btn">Leaderboard</button>
        </div>
    </div>
    
    <!-- Leaderboard Modal -->
    <div id="leaderboard-modal" class="hidden">
        <div class="modal-content leaderboard-content">
            <button id="close-leaderboard-btn" class="close-btn" aria-label="Close">&times;</button>
            <h1>üèÜ Leaderboard</h1>
            
            <div class="leaderboard-tabs">
                <button class="tab-btn active" data-tab="global">üåç Global</button>
                <button class="tab-btn" data-tab="personal">üë§ My Scores</button>
            </div>
            
            <div id="leaderboard-content">
                <div id="top-10-list">
                    <p class="loading-text">Loading...</p>
                </div>
                <div id="user-position" class="user-position-section"></div>
            </div>
        </div>
    </div>
    
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <script src="game.js"></script>
</body>
</html>

